{
  "version": 3,
  "sources": ["css-magi.js", "styling.js"],
  "sourcesContent": ["export const id6 = () => 'v1-' + Math.random().toString(36).substring(2, 8);\n\nexport const PSEUDO_SELECTORS = [\n  'hover',\n  'focus',\n  'active',\n  'visited',\n  'after',\n  'before',\n  'first',\n  'last',\n  'nth-child',\n  'nth-last-child',\n  'nth-of-type',\n  'nth-last-of-type',\n  'only-child',\n  'only-of-type',\n  'empty',\n  'target',\n  'checked',\n  'disabled',\n  'enabled',\n  'required',\n  'optional',\n  'valid',\n  'invalid',\n  'in-range',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'placeholder-shown',\n  'autofill',\n  'user-invalid',\n  'user-valid',\n  'blank',\n  'valid',\n  'invalid',\n  'in-range',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'placeholder-shown',\n  'autofill',\n  'user-invalid',\n];\n\nexport const cssPropertyMapping = {\n  m: 'margin',\n  mt: 'margin-top',\n  mr: 'margin-right',\n  mb: 'margin-bottom',\n  ml: 'margin-left',\n\n  p: 'padding',\n  pt: 'padding-top',\n  pr: 'padding-right',\n  pb: 'padding-bottom',\n  pl: 'padding-left',\n\n  pos: 'position',\n  cl: 'color',\n\n  w: 'width',\n  h: 'height',\n  bor: 'border',\n\n  bg: 'background',\n  \"bg-cl\": \"background-color\",\n\n  z: 'z-index',\n\n  d: 'display',\n  direction: 'flex-direction'\n};\n\nexport const DEFAULT_MEDIA_QUERY = {\n  sm: '@media(min-width:640px)',\n  md: '@media(min-width:768px)',\n  lg: '@media(min-width:1024px)',\n  xl: '@media(min-width:1280px)',\n  xxl: '@media(min-width:1536px)',\n};\n\nexport function parseDOM(configs = {\n  mode: 'development',\n  mediaQuery: DEFAULT_MEDIA_QUERY\n}) {\n  if (typeof document === \"undefined\") {\n    console.warn(\"parseDOM() only works in the browser environment.\");\n    return {};\n  }\n\n  const defineClasses = Array.from(document.querySelectorAll(\"[class]\"))\n    .flatMap(el => Array.from(el.classList).filter(cls => cls.includes(\":\")));\n\n  const uniqueClasses = useUniqueClass({ classList: defineClasses, configs: configs });\n\n  return uniqueClasses;\n}\n\nexport function parseFile(classFromCodes, configs = {\n  mode: 'development',\n  mediaQuery: DEFAULT_MEDIA_QUERY\n}) {\n  const defineClasses = Array.from(classFromCodes).filter(cls => cls.includes(\":\"));\n  const uniqueClasses = useUniqueClass({ classList: defineClasses, configs: configs });\n\n  return uniqueClasses;\n}\n\nconst useUniqueClass = ({\n  classList,\n  configs = {\n    mode: 'development',\n    mediaQuery: DEFAULT_MEDIA_QUERY\n  }\n}) => {\n  let id = 0;\n  return classList.reduce((acc, cls) => {\n    try {\n      const { className: classExcludedMedia, media } = useMediaQuery(cls, configs?.mediaQuery || DEFAULT_MEDIA_QUERY);\n      const { className: classExcludedPseudo, pseudoSelector } = usePseudoSelector(classExcludedMedia, configs);\n      const { value, property, cssQuery } = useClassString(classExcludedPseudo, cls);\n      if (acc[cssQuery]) return acc;\n\n      const cssValue = useCssValue(value);\n      const cssProperty = useCssProperty(property);\n      const cssQuerySelector = useCssQuerySelector({ cssQuery, pseudoSelector });\n\n      acc[cssQuery] = {\n        media: media,\n        query: cssQuerySelector,\n        property: cssProperty,\n        value: cssValue\n      };\n\n    } catch (error) {\n      console.error(error);\n    }\n\n    return acc;\n  }, {});\n}\n\nconst useCssQuerySelector = ({\n  cssQuery,\n  pseudoSelector\n}) => {\n  return [cssQuery, pseudoSelector].filter(Boolean).join(':');\n}\n\nconst useCssProperty = (property) => {\n  return cssPropertyMapping[property] || property;\n}\n\nconst useCssValue = (value) => {\n  const v = value.replace(/[\\[\\]]/g, \"\").replace(/_/g, \" \");\n  if (v.includes('--') && !v.includes('var')) {\n    return `var(${v})`;\n  }\n  return v;\n}\n\n\nconst useMediaQuery = (_className, mediaQuery) => {\n  let className = _className;\n  Object.entries(mediaQuery).forEach(([key, value]) => {\n    className = className.replace(`${key}:`, value + ':');\n  });\n\n  const result = {\n    media: null,\n    className: className,\n  };\n\n  const match = className.match(/@media\\([^)]*\\)/);\n  if (match) {\n    result.media = match[0];\n    result.className = className.replace(`${match[0]}:`, '');\n  }\n  return result;\n\n}\n\nconst usePseudoSelector = (className, configs) => {\n  const result = {\n    pseudoSelector: null,\n    className: className,\n  };\n\n  const pseudoSelector = [\n    ...PSEUDO_SELECTORS,\n    ...configs?.pseudoSelectors || []\n  ].find(p => className.includes(p + ':'));\n\n  if (pseudoSelector) {\n    result.pseudoSelector = pseudoSelector;\n    result.className = className.replace(`${pseudoSelector}:`, '');\n  }\n  return result;\n}\n\nconst useClassString = (className, clsOriginal) => {\n  const [classString, value] = className.split(/:(.+)/); // scroll-1.background:[red] => scroll-1.background, [red]\n  const classList = classString.split('.'); // [scroll-1, background]\n  const property = classList.pop(); // background\n  const cssQuery = [...classList, clsOriginal.replace(/[^a-zA-Z0-9_-]/g, (char) => '\\\\' + char)].join('.');\n\n  return {\n    value,\n    property,\n    cssQuery,\n    queryId: id6(),\n  };\n}\n\nexport function injectStyles(uniqueClasses) {\n  if (typeof document === \"undefined\") return;\n\n  const tag = document.createElement(\"style\");\n  tag.innerHTML = Object.entries(uniqueClasses)\n    .map(([_, { media, query, property, value }]) =>\n      media ? `${media}{.${query}{${property}:${value};}}` : `.${query}{${property}:${value};}`\n    )\n    .join(\"\");\n\n  document.body.appendChild(tag);\n}\n\nexport function init() {\n  const uniqueClasses = parseDOM();\n  injectStyles(uniqueClasses);\n}", "import { init } from \"./css-magi\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    init();\n});"],
  "mappings": "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",
  "names": []
}
